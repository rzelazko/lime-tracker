<mat-toolbar class="page-header" role="heading">
  <h1>
    Reports
    <span *ngIf="report">
      from {{ report.dateStart | moment: "L" }} to {{ report.dateEnd | moment: "L" }}
    </span>
  </h1>
</mat-toolbar>

<main>
  <p *ngIf="!report">No reports found!</p>

  <mat-list *ngIf="report">
    <ng-container *ngFor="let subReport of report.subReports">
      <div mat-subheader>
        {{ subReport.dateStart | moment: "LL" }} - {{ subReport.dateEnd | moment: "LL" }}
      </div>

      <mat-list-item *ngFor="let case of subReport.cases">
        <mat-icon *ngIf="case.event" mat-list-icon>event</mat-icon>
        <div *ngIf="case.event" mat-line>{{ case.event.name }}</div>
        <div *ngIf="case.event" mat-line class="mat-line-secondary">
          {{ case.event.occurred | moment: "LLL" }}
        </div>

        <mat-icon *ngIf="case.seizure" mat-list-icon>warning</mat-icon>
        <div *ngIf="case.seizure" mat-line>
          Seizure occured: {{ case.seizure.occurred | moment: "LLL" }}
        </div>
        <div *ngIf="case.seizure" mat-line class="mat-line-secondary">{{ case.seizure.type }}</div>
        <div *ngIf="case.seizure" mat-line class="mat-line-secondary">
          Duration: {{ case.seizure.duration | humanize }}
        </div>

        <mat-icon *ngIf="case.medicament" mat-list-icon>medication</mat-icon>
        <div *ngIf="case.medicament" mat-line>
          {{ case.medicament.name }}: {{ case.medicament.doses.morning }} -
          {{ case.medicament.doses.noon }} - {{ case.medicament.doses.evening }}
        </div>
        <div *ngIf="case.medicament" mat-line class="mat-line-secondary">
          {{ case.medicament.startDate | moment: "LL" }}
        </div>
      </mat-list-item>

      <mat-divider></mat-divider>
    </ng-container>

    <mat-paginator [hidePageSize]="true" [length]="allCases" [pageSize]="500" *ngIf="allCases > 0">
    </mat-paginator>
  </mat-list>
</main>
